package me.ciruu.abyss.modules.exploit;

import java.util.function.Predicate;
import me.ciruu.abyss.Class25;
import me.ciruu.abyss.Globals;
import me.ciruu.abyss.enums.Class11;
import me.ciruu.abyss.events.player.EventPlayerUpdate;
import me.ciruu.abyss.modules.Module;
import me.ciruu.abyss.settings.Setting;
import me.zero.alpine.listener.EventHandler;
import me.zero.alpine.listener.Listener;
import net.minecraft.block.BlockObsidian;
import net.minecraft.item.Item;
import net.minecraft.item.ItemBlock;
import net.minecraft.item.ItemPickaxe;

public class NoEntityTrace
extends Module {
    private final Setting main = new Setting("Main", "", this, new Class25("Main Settings"));
    private final Setting all = new Setting("All", "", this, false);
    private final Setting pickaxe = new Setting("Pickaxe", "", (Module)this, (Object)true, this.main, this::Method1783);
    private final Setting block = new Setting("Block", "", (Module)this, (Object)false, this.main, this::Method1784);
    private final Setting obsidian = new Setting("Obsidian", "", (Module)this, (Object)true, this.main, this::Method1785);
    private boolean Field1377 = false;
    private boolean Field1378 = false;
    private boolean Field1379 = false;
    @EventHandler
    private Listener Field1380 = new Listener<EventPlayerUpdate>(this::Method1786, new Predicate[0]);

    public NoEntityTrace() {
        super("NoEntityTrace", "Ignore entities in the crosshair.", Class11.EXPLOIT);
        this.Method1787(this.all);
        this.Method1787(this.pickaxe);
        this.Method1787(this.block);
        this.Method1787(this.obsidian);
    }

    public boolean Method436() {
        if (((Boolean)this.pickaxe.getValue()).booleanValue() && this.Field1377) {
            return this.Method1788();
        }
        if (((Boolean)this.obsidian.getValue()).booleanValue() && this.Field1378) {
            return this.Method1788();
        }
        if (((Boolean)this.block.getValue()).booleanValue() && this.Field1379) {
            return this.Method1788();
        }
        if (((Boolean)this.all.getValue()).booleanValue()) {
            return this.Method1788();
        }
        return false;
    }

    private void Method1786(EventPlayerUpdate eventPlayerUpdate) {
        Item item = Globals.mc.player.getHeldItemMainhand().getItem();
        this.Field1377 = item instanceof ItemPickaxe;
        this.Field1379 = item instanceof ItemBlock;
        this.Field1378 = this.Field1379 ? ((ItemBlock)item).getBlock() instanceof BlockObsidian : false;
    }

    private boolean Method1785() {
        return (Boolean)this.all.getValue() == false && (Boolean)this.block.getValue() == false;
    }

    private boolean Method1784() {
        return (Boolean)this.all.getValue() == false;
    }

    private boolean Method1783() {
        return (Boolean)this.all.getValue() == false;
    }
}
